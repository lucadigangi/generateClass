{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lucadigangi/Documents/Archivio/0_siti_web/GenerateClasses/sort-student/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/lucadigangi/Documents/Archivio/0_siti_web/GenerateClasses/sort-student/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/lucadigangi/Documents/Archivio/0_siti_web/GenerateClasses/sort-student/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lucadigangi/Documents/Archivio/0_siti_web/GenerateClasses/sort-student/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/lucadigangi/Documents/Archivio/0_siti_web/GenerateClasses/sort-student/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lucadigangi/Documents/Archivio/0_siti_web/GenerateClasses/sort-student/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import'./App.css';import React,{Component}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selectedFile:null,fileUploadedSuccessfully:false};_this.onFileChange=function(event){_this.setState({selectedFile:event.target.files[0]});};_this.onFileUpload=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var selectedFile,formData,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:selectedFile=_this.state.selectedFile;if(selectedFile){_context.next=4;break;}console.error('Nessun file selezionato.');return _context.abrupt(\"return\");case 4:formData=new FormData();formData.append('csv',selectedFile);_context.prev=6;_context.next=9;return axios.post('URL_DEL_TUO_API_GATEWAY',formData,{headers:{'Content-Type':'multipart/form-data'}});case 9:response=_context.sent;// Gestisci la risposta dal backend\nconsole.log(response.data);// Resetta lo stato per consentire un nuovo caricamento\n_this.setState({selectedFile:null,fileUploadedSuccessfully:true});_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](6);// Gestisci gli errori\nconsole.error('Errore durante il caricamento del file:',_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[6,14]]);}));_this.fileData=function(){if(_this.state.selectedFile){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"File Details:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"File Name: \",_this.state.selectedFile.name]})]});}else if(_this.state.fileUploadedSuccessfully){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h4\",{children:\"Il tuo file \\xE8 stato caricato correttamente\"})]});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"description\",children:\"Scegli un file e premi il pulsante Upload\"})]});}};return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Sort Students\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text\",children:\"Elabora file con componente React e API Serverless\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:this.onFileChange}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:this.onFileUpload,children:\"Upload\"})]}),this.fileData()]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","axios","jsx","_jsx","jsxs","_jsxs","App","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","selectedFile","fileUploadedSuccessfully","onFileChange","event","setState","target","files","onFileUpload","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","response","wrap","_callee$","_context","prev","next","console","error","abrupt","FormData","append","post","headers","sent","log","data","t0","stop","fileData","children","name","className","_createClass","key","value","render","type","onChange","onClick"],"sources":["/Users/lucadigangi/Documents/Archivio/0_siti_web/GenerateClasses/sort-student/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass App extends Component {\n  state = {\n    selectedFile: null,\n    fileUploadedSuccessfully: false\n  }\n\n  onFileChange = event => {\n    this.setState({ selectedFile: event.target.files[0] });\n  }\n\n  onFileUpload = async () => {\n    const { selectedFile } = this.state;\n\n    if (!selectedFile) {\n      console.error('Nessun file selezionato.');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('csv', selectedFile);\n\n    try {\n      const response = await axios.post('URL_DEL_TUO_API_GATEWAY', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      // Gestisci la risposta dal backend\n      console.log(response.data);\n\n      // Resetta lo stato per consentire un nuovo caricamento\n      this.setState({\n        selectedFile: null,\n        fileUploadedSuccessfully: true,\n      });\n    } catch (error) {\n      // Gestisci gli errori\n      console.error('Errore durante il caricamento del file:', error);\n    }\n  }\n\n  fileData = () => {\n    if (this.state.selectedFile) {\n      return (\n        <div>\n          <h2>File Details:</h2>\n          <p>File Name: {this.state.selectedFile.name}</p>\n        </div>\n      );\n    } else if (this.state.fileUploadedSuccessfully) {\n      return (\n        <div>\n          <br />\n          <h4>Il tuo file Ã¨ stato caricato correttamente</h4>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <br />\n          <h4 className=\"description\">Scegli un file e premi il pulsante Upload</h4>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h2 className=\"title\">Sort Students</h2>\n        <h3 className=\"text\">Elabora file con componente React e API Serverless</h3>\n        <div>\n          <input type=\"file\" onChange={this.onFileChange} />\n          <button className=\"button\" onClick={this.onFileUpload}>Upload</button>\n        </div>\n        {this.fileData()}\n      </div>\n    )\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}